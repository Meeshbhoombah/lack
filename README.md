# lack
A Slack clone

Built to modernize my React skills.

## Getting Started
### Prerequisites
Bun v1.1.36. 
```
curl -fsSL https://bun.sh/install | bash -s "bun-v1.1.36"
```
Or, find installation instructions [here](https://bun.sh/docs/installation#:~:text=To%20install%20a%20specific%20version%20of%20Bun%2C%20you%20can%20pass,or%20bun%2Dv1.1.1%20.).

Convex v1.17.3
```
```
Or, find installation instructions [here]().

### Installation
1. Clone this repository.
```
git clone git@github.com:Meeshbhoombah/lack.git
```

2. `cd` into the repository.
```
cd lack/
```

3. Install dependencies with Bun.
```
bun install
```

### Development
1. Run the Next.js frontend development server with Bun.
```
bun run dev
```

2. Run the Convex development server with Bun.
```
bunx convex dev
```

3. Create a GitHub App (for lack's GitHub sign-in feature). Find instructions 
   [here](https://docs.github.com/en/apps/creating-github-apps/registering-a-github-app/registering-a-github-app#registering-a-github-app). 
   Use the generated [HTTP Actions URL](https://labs.convex.dev/auth/config/oauth#callback-url) 
   as the Callback URL when creating a GitHub App (it can also temporarily 
   serve as the App's Webhook URL).
 
4. Set the GitHub App Client ID within the Convex backend with Bun.
```
bunx convex env set AUTH_GITHUB_ID yourgithubclientid
```

5. Generate a Client Secret within the GitHub App. Find rough instructions 
   [here](https://docs.github.com/en/apps/creating-github-apps/writing-code-for-a-github-app/building-a-login-with-github-button-with-a-github-app#store-the-client-id-and-client-secret).
   This is a tutorial by GitHub for building a login button. It provides steps
   for locating the section of a GitHub App's settings that will generate a
   Client Secret, but also includes extra information. Ignore the suggestions
   to add information to a `.env` file and/or `Gemfile`.

6. Set the GitHub App Client Secret within the Convex backend with Bun.
```
bunx convex env set AUTH_GITHUB_SECRET yourgithubsecret
```

7. Create a Google Project (for lack's Google sign-in feature). Find 
   instructions [here](https://developers.google.com/workspace/guides/create-project).
   After the project has been created (it will likely take some time to 
   generate), navigate to the "OAuth consent screen" sidebar tab in "APIs & 
   Services" by searching for "APIs & Services" in the Search bar at the very 
   top of the Google Cloud Console homepage. Use the generated [HTTP Actions 
   URL](https://developers.google.com/workspace/guides/create-project)
   to fill in the `Authorized domain 1` `input` (remember to remove the scheme:
   `https://` from the URL).

8. Create a OAuth Client ID within the Google Project. Navigate to the 
   "Credentials" tab in the sidebar. Click "CREATE CREDENTIALS" > "OAuth client 
   ID". Set the `Application type` dropdown `input` to "Web application". Under
   "Authorized JavaScript Origins" fill in the `URIs 1` label with 
   `http://localhost:3000`. Click "ADD URI" under "Authorized redirect URIs" and
   insert the "HTTP Actions URL" generated by Convex into the `input` labled 
   `URIs 1`. Postfix the inserted URL with `/api/auth/callback/google`. This 
   creates both a Client ID and a Client secret, both of which are viewable by
   clicking the name of the Client ID under the "OAuth 2.0 Client IDs" section 
   within the "Credentials" page. The Client ID and Client Secret are located
   on the right-hand side of the page found after clicking the name of a OAuth 
   2.0 client. Learn more [here](https://support.google.com/cloud/answer/6158849?hl=en). 

9. Set the Google Client ID within the Convex backend with Bun.
```
bunx convex env set AUTH_GOOGLE_ID yourgoogleclientid
```

10. Set the Google Client Secret within the Convex backend with Bun.
```
bunx convex env set AUTH_GOOGLE_ID yourgoogleclientsecret
```

## Built With
- Bun
- Next.js
- React
- Tailwind
- PostCSS
- shadcn/ui
- Convex

## Resources
- Client
    + [shadcn Next.js](https://ui.shadcn.com/docs/installation/next)
- Server
    + [Convex Next.js Quickstart](https://docs.convex.dev/quickstart/nextjs)
    + [Convex Auth -- OAuth](https://labs.convex.dev/auth/config/oauth)
    + [Convex Auth -- Password](https://labs.convex.dev/auth/config/passwords)

